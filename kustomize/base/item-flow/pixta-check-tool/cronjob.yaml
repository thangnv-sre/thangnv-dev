apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: checktool-assign-checks-cronjob
  labels:
    app: checktool-assign-checks-cronjob
spec:
  schedule: "40 * * * *"
  concurrencyPolicy: Forbid
  jobTemplate:
    spec:
      template:
        metadata:
          labels:
            app: checktool-assign-checks-cronjob
        spec:
          restartPolicy: Never
          containers:
            - name: checktool-assign-checks-job
              image: 045675425505.dkr.ecr.ap-northeast-1.amazonaws.com/pixta-check-tool:latest
              imagePullPolicy: Always
              command:
                [
                  "bash",
                  "-c",
                  "bin/rails runner 'Batch::AssignChecks.run_all_queues'",
                ]
              envFrom:
                - configMapRef:
                    name: check-tool-common-env
                - configMapRef:
                    name: check-tool-application-env
                - secretRef:
                    name: check-tool-secret
              resources:
                requests:
                  memory: "750Mi"
                  cpu: "500m"
                limits:
                  memory: "750Mi"
---

apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: checktool-counting-payment-cronjob
  labels:
    app: checktool-counting-payment-cronjob
spec:
  schedule: "30 0 1 * *"
  concurrencyPolicy: Forbid
  jobTemplate:
    spec:
      template:
        metadata:
          labels:
            app: checktool-counting-payment-cronjob
        spec:
          restartPolicy: Never
          containers:
            - name: checktool-counting-payment-job
              image: 045675425505.dkr.ecr.ap-northeast-1.amazonaws.com/pixta-check-tool:latest
              imagePullPolicy: Always
              command:
                [
                  "bash",
                  "-c",
                  "bin/rails runner 'Batch::CountingPayments.new.run'",
                ]
              envFrom:
                - configMapRef:
                    name: check-tool-common-env
                - configMapRef:
                    name: check-tool-application-env
                - secretRef:
                    name: check-tool-secret
              resources:
                requests:
                  memory: "750Mi"
                  cpu: "500m"
                limits:
                  memory: "750Mi"
---

apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: checktool-counting-queue-items-cronjob
  labels:
    app: checktool-counting-queue-items-cronjob
spec:
  schedule: "*/15 * * * *"
  concurrencyPolicy: Forbid
  jobTemplate:
    spec:
      template:
        metadata:
          labels:
            app: checktool-counting-queue-items-cronjob
        spec:
          restartPolicy: Never
          containers:
            - name: checktool-counting-queue-items-job
              image: 045675425505.dkr.ecr.ap-northeast-1.amazonaws.com/pixta-checktool-job:prod-0d02ddf
              imagePullPolicy: Always
              command:
                [
                  "bash",
                  "-c",
                  "bin/rails runner 'Batch::CountingQueueItems.new.run'",
                ]
              envFrom:
                - configMapRef:
                    name: check-tool-common-env
                - configMapRef:
                    name: check-tool-application-env
                - secretRef:
                    name: check-tool-secret
              resources:
                requests:
                  memory: "750Mi"
                  cpu: "500m"
                limits:
                  memory: "750Mi"
---

apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: checktool-delayed-checks-cronjob
  labels:
    app: checktool-delayed-checks-cronjob
spec:
  schedule: "35 16 * * *"
  concurrencyPolicy: Forbid
  jobTemplate:
    spec:
      template:
        metadata:
          labels:
            app: checktool-delayed-checks-cronjob
        spec:
          restartPolicy: Never
          containers:
            - name: checktool-delayed-checks-job
              image: 045675425505.dkr.ecr.ap-northeast-1.amazonaws.com/pixta-check-tool:latest
              imagePullPolicy: Always
              command:
                [
                  "bash",
                  "-c",
                  "bin/rails runner 'Batch::DelayedChecks.new.run'",
                ]
              envFrom:
                - configMapRef:
                    name: check-tool-common-env
                - configMapRef:
                    name: check-tool-application-env
                - secretRef:
                    name: check-tool-secret
              resources:
                requests:
                  memory: "750Mi"
                  cpu: "500m"
                limits:
                  memory: "750Mi"
---

apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: checktool-fix-checks-cronjob
  labels:
    app: checktool-fix-checks-cronjob
spec:
  schedule: "10,40 * * * *"
  concurrencyPolicy: Forbid
  jobTemplate:
    spec:
      template:
        metadata:
          labels:
            app: checktool-fix-checks-cronjob
        spec:
          restartPolicy: Never
          containers:
            - name: checktool-fix-checks-job
              image: 045675425505.dkr.ecr.ap-northeast-1.amazonaws.com/pixta-checktool-job:prod-0d02ddf
              imagePullPolicy: Always
              command:
                [
                  "bash",
                  "-c",
                  "bin/rails runner 'Batch::FixChecks.exec'",
                ]
              envFrom:
                - configMapRef:
                    name: check-tool-common-env
                - configMapRef:
                    name: check-tool-application-env
                - secretRef:
                    name: check-tool-secret
              resources:
                requests:
                  memory: "750Mi"
                  cpu: "500m"
                limits:
                  memory: "750Mi"
---

apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: checktool-monthly-close-timesheet-cronjob
  labels:
    app: checktool-monthly-close-timesheet-cronjob
spec:
  schedule: "30 0 1 * *"
  concurrencyPolicy: Forbid
  jobTemplate:
    spec:
      template:
        metadata:
          labels:
            app: checktool-monthly-close-timesheet-cronjob
        spec:
          restartPolicy: Never
          containers:
            - name: checktool-monthly-close-timesheet-job
              image: 045675425505.dkr.ecr.ap-northeast-1.amazonaws.com/pixta-check-tool:latest
              imagePullPolicy: Always
              command:
                [
                  "bash",
                  "-c",
                  "bin/rails runner 'Batch::MonthlyCloseTimesheet.exec'",
                ]
              envFrom:
                - configMapRef:
                    name: check-tool-common-env
                - configMapRef:
                    name: check-tool-application-env
                - secretRef:
                    name: check-tool-secret
              resources:
                requests:
                  memory: "750Mi"
                  cpu: "500m"
                limits:
                  memory: "750Mi"
---

apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: checktool-reflesh-queue-cronjob
  labels:
    app: checktool-reflesh-queue-cronjob
spec:
  schedule: "30 19 * * *"
  concurrencyPolicy: Forbid
  jobTemplate:
    spec:
      template:
        metadata:
          labels:
            app: checktool-reflesh-queue-cronjob
        spec:
          restartPolicy: Never
          containers:
            - name: checktool-reflesh-queue-job
              image: 045675425505.dkr.ecr.ap-northeast-1.amazonaws.com/pixta-check-tool:latest
              imagePullPolicy: Always
              command:
                [
                  "bash",
                  "-c",
                  "bin/rails runner 'Batch::RefleshQueue.new.run(queue_clear: true)'",
                ]
              envFrom:
                - configMapRef:
                    name: check-tool-common-env
                - configMapRef:
                    name: check-tool-application-env
                - secretRef:
                    name: check-tool-secret
              resources:
                requests:
                  memory: "750Mi"
                  cpu: "500m"
                limits:
                  memory: "750Mi"
---

apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: checktool-remind-logtime-cronjob
  labels:
    app: checktool-remind-logtime-cronjob
spec:
  schedule: "0 14 * * *"
  concurrencyPolicy: Forbid
  jobTemplate:
    spec:
      template:
        metadata:
          labels:
            app: checktool-remind-logtime-cronjob
        spec:
          restartPolicy: Never
          containers:
            - name: checktool-remind-logtime-job
              image: 045675425505.dkr.ecr.ap-northeast-1.amazonaws.com/pixta-check-tool:latest
              imagePullPolicy: Always
              command:
                [
                  "bash",
                  "-c",
                  "bin/rails runner 'Batch::RemindLogtime.exec'",
                ]
              envFrom:
                - configMapRef:
                    name: check-tool-common-env
                - configMapRef:
                    name: check-tool-application-env
                - secretRef:
                    name: check-tool-secret
              resources:
                requests:
                  memory: "750Mi"
                  cpu: "500m"
                limits:
                  memory: "750Mi"
---

apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: checktool-send-check-result-cronjob
  labels:
    app: checktool-send-check-result-cronjob
spec:
  schedule: "20,50 * * * *"
  concurrencyPolicy: Forbid
  jobTemplate:
    spec:
      template:
        metadata:
          labels:
            app: checktool-send-check-result-cronjob
        spec:
          restartPolicy: Never
          containers:
            - name: checktool-send-check-result-job
              image: 045675425505.dkr.ecr.ap-northeast-1.amazonaws.com/pixta-check-tool:latest
              imagePullPolicy: Always
              command:
                [
                  "bash",
                  "-c",
                  "bin/rails runner 'Batch::SendCheckResult.new.run'",
                ]
              envFrom:
                - configMapRef:
                    name: check-tool-common-env
                - configMapRef:
                    name: check-tool-application-env
                - secretRef:
                    name: check-tool-secret
              resources:
                requests:
                  memory: "750Mi"
                  cpu: "500m"
                limits:
                  memory: "750Mi"
---

apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: checktool-send-item-to-trouble-patrol-cronjob
  labels:
    app: checktool-send-item-to-trouble-patrol-cronjob
spec:
  schedule: "10 22 * * *"
  concurrencyPolicy: Forbid
  jobTemplate:
    spec:
      template:
        metadata:
          labels:
            app: checktool-send-item-to-trouble-patrol-cronjob
        spec:
          restartPolicy: Never
          containers:
            - name: checktool-send-item-to-trouble-patrol-job
              image: 045675425505.dkr.ecr.ap-northeast-1.amazonaws.com/pixta-check-tool:latest
              imagePullPolicy: Always
              command:
                [
                  "bash",
                  "-c",
                  "bin/rails runner 'Batch::SendItemToTroublePatrol.new.run'",
                ]
              envFrom:
                - configMapRef:
                    name: check-tool-common-env
                - configMapRef:
                    name: check-tool-application-env
                - secretRef:
                    name: check-tool-secret
              resources:
                requests:
                  memory: "750Mi"
                  cpu: "500m"
                limits:
                  memory: "750Mi"
---

apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: checktool-send-labeled-highscore-items-cronjob
  labels:
    app: checktool-send-labeled-highscore-items-cronjob
spec:
  schedule: "15 23 * * *"
  concurrencyPolicy: Forbid
  jobTemplate:
    spec:
      template:
        metadata:
          labels:
            app: checktool-send-labeled-highscore-items-cronjob
        spec:
          restartPolicy: Never
          containers:
            - name: checktool-send-labeled-highscore-items-job
              image: 045675425505.dkr.ecr.ap-northeast-1.amazonaws.com/pixta-check-tool:latest
              imagePullPolicy: Always
              command:
                [
                  "bash",
                  "-c",
                  "bin/rails runner 'Batch::SendLabeledHighscoreItems.new.run'",
                ]
              envFrom:
                - configMapRef:
                    name: check-tool-common-env
                - configMapRef:
                    name: check-tool-application-env
                - secretRef:
                    name: check-tool-secret
              resources:
                requests:
                  memory: "750Mi"
                  cpu: "500m"
                limits:
                  memory: "750Mi"
---

apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: checktool-start-check-items-cronjob
  labels:
    app: checktool-start-check-items-cronjob
spec:
  schedule: "25 * * * *"
  concurrencyPolicy: Forbid
  jobTemplate:
    spec:
      template:
        metadata:
          labels:
            app: checktool-start-check-items-cronjob
        spec:
          restartPolicy: Never
          containers:
            - name: checktool-start-check-items-job
              image: 045675425505.dkr.ecr.ap-northeast-1.amazonaws.com/pixta-check-tool:latest
              imagePullPolicy: Always
              command:
                [
                  "bash",
                  "-c",
                  "bin/rails runner 'Batch::StartCheckItems.new.run'",
                ]
              envFrom:
                - configMapRef:
                    name: check-tool-common-env
                - configMapRef:
                    name: check-tool-application-env
                - secretRef:
                    name: check-tool-secret
              resources:
                requests:
                  memory: "750Mi"
                  cpu: "500m"
                limits:
                  memory: "750Mi"
---

apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: checktool-summary-daily-checks-cronjob
  labels:
    app: checktool-summary-daily-checks-cronjob
spec:
  schedule: "25,55 * * * *"
  concurrencyPolicy: Forbid
  jobTemplate:
    spec:
      template:
        metadata:
          labels:
            app: checktool-summary-daily-checks-cronjob
        spec:
          restartPolicy: Never
          containers:
            - name: checktool-summary-daily-checks-job
              image: 045675425505.dkr.ecr.ap-northeast-1.amazonaws.com/pixta-check-tool:latest
              imagePullPolicy: Always
              command:
                [
                  "bash",
                  "-c",
                  "bin/rails runner 'Batch::SummaryDailyChecks.exec'",
                ]
              envFrom:
                - configMapRef:
                    name: check-tool-common-env
                - configMapRef:
                    name: check-tool-application-env
                - secretRef:
                    name: check-tool-secret
              resources:
                requests:
                  memory: "750Mi"
                  cpu: "500m"
                limits:
                  memory: "750Mi"
---

apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: checktool-summary-daily-checks-on-yesterday-cronjob
  labels:
    app: checktool-summary-daily-checks-on-yesterday-cronjob
spec:
  schedule: "35 1 * * *"
  concurrencyPolicy: Forbid
  jobTemplate:
    spec:
      template:
        metadata:
          labels:
            app: checktool-summary-daily-checks-on-yesterday-cronjob
        spec:
          restartPolicy: Never
          containers:
            - name: checktool-summary-daily-checks-on-yesterday-job
              image: 045675425505.dkr.ecr.ap-northeast-1.amazonaws.com/pixta-check-tool:latest
              imagePullPolicy: Always
              command:
                [
                  "bash",
                  "-c",
                  "bin/rails runner 'Batch::SummaryDailyChecks.exec(Date.yesterday)'",
                ]
              envFrom:
                - configMapRef:
                    name: check-tool-common-env
                - configMapRef:
                    name: check-tool-application-env
                - secretRef:
                    name: check-tool-secret
              resources:
                requests:
                  memory: "750Mi"
                  cpu: "500m"
                limits:
                  memory: "750Mi"
---

apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: checktool-timeout-checks-cronjob
  labels:
    app: checktool-timeout-checks-cronjob
spec:
  schedule: "15 * * * *"
  concurrencyPolicy: Forbid
  jobTemplate:
    spec:
      template:
        metadata:
          labels:
            app: checktool-timeout-checks-cronjob
        spec:
          restartPolicy: Never
          containers:
            - name: checktool-timeout-checks-job
              image: 045675425505.dkr.ecr.ap-northeast-1.amazonaws.com/pixta-check-tool:latest
              imagePullPolicy: Always
              command:
                [
                  "bash",
                  "-c",
                  "bin/rails runner 'Batch::TimeoutChecks.exec'",
                ]
              envFrom:
                - configMapRef:
                    name: check-tool-common-env
                - configMapRef:
                    name: check-tool-application-env
                - secretRef:
                    name: check-tool-secret
              resources:
                requests:
                  memory: "750Mi"
                  cpu: "500m"
                limits:
                  memory: "750Mi"
---

apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: checktool-update-oldest-items-cronjob
  labels:
    app: checktool-update-oldest-items-cronjob
spec:
  schedule: "25 20 * * *"
  concurrencyPolicy: Forbid
  jobTemplate:
    spec:
      template:
        metadata:
          labels:
            app: checktool-update-oldest-items-cronjob
        spec:
          restartPolicy: Never
          containers:
            - name: checktool-update-oldest-items-job
              image: 045675425505.dkr.ecr.ap-northeast-1.amazonaws.com/pixta-check-tool:latest
              imagePullPolicy: Always
              command:
                [
                  "bash",
                  "-c",
                  "bin/rails runner 'Batch::UpdateOldestItemIds.new.run'",
                ]
              envFrom:
                - configMapRef:
                    name: check-tool-common-env
                - configMapRef:
                    name: check-tool-application-env
                - secretRef:
                    name: check-tool-secret
              resources:
                requests:
                  memory: "750Mi"
                  cpu: "500m"
                limits:
                  memory: "750Mi"
---

apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: checktool-update-ratio-footage-cronjob
  labels:
    app: checktool-update-ratio-footage-cronjob
spec:
  schedule: "5 20 * * 1-5"
  concurrencyPolicy: Forbid
  jobTemplate:
    spec:
      template:
        metadata:
          labels:
            app: checktool-update-ratio-footage-cronjob
        spec:
          restartPolicy: Never
          containers:
            - name: checktool-update-ratio-footage-job
              image: 045675425505.dkr.ecr.ap-northeast-1.amazonaws.com/pixta-check-tool:latest
              imagePullPolicy: Always
              command:
                [
                  "bash",
                  "-c",
                  "bin/rails runner \"Batch::Temporary::UpdateRatioFootage.exec(500, 'jp', '4k')\"",
                ]
              envFrom:
                - configMapRef:
                    name: check-tool-common-env
                - configMapRef:
                    name: check-tool-application-env
                - secretRef:
                    name: check-tool-secret
              resources:
                requests:
                  memory: "750Mi"
                  cpu: "500m"
                limits:
                  memory: "750Mi"
---
